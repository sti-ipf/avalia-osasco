

Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 10:23:40) [GET]
  [4;36;1mInstitution Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: institutions: SELECT * FROM "institutions" [0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such table: institutions: SELECT * FROM "institutions" ):
  app/controllers/institutions_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (81.4ms)
Rendered rescues/_request_and_response (13.1ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (5.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (775.1ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("schema_migrations")[0m
  [4;36;1mSQL (1187.7ms)[0m   [0;1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;35;1mSQL (1.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
  [4;35;1mSQL (391.6ms)[0m   [0mCREATE TABLE "institutions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207115515')[0m
Migrating to CreateServiceLevels (20101207115536)
  [4;35;1mSQL (391.6ms)[0m   [0mCREATE TABLE "service_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207115536')[0m
Migrating to CreateInstitutionsServiceLevels (20101207115601)
  [4;35;1mSQL (459.1ms)[0m   [0mCREATE TABLE "institutions_service_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "institution_id" integer, "service_level_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207115601')[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 10:25:08) [GET]
  [4;36;1mInstitution Load (2.8ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 146ms (View: 123, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 10:25:08) [GET]
  [4;35;1mInstitution Load (2.7ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 15ms (View: 3, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:25:18) [GET]
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 55ms (View: 43, DB: 0) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:31:43) [GET]
  [4;36;1mServiceLevel Load (1.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
ERROR: compiling _run_erb_app47views47institutions47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47institutions47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Nova Unidade</h1>\n\n"

;  form_for(@institution) do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    Nome<br />\n    "



; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  </p>\n  <h2>N\303\255veis de Servi\303\247o</h2>\n\n  "



;  @service_levels.each do |service_level| ; @output_buffer.concat "\n     "
; @output_buffer.concat(( check_box_tag "instittution[service_levels_ids][]", service_level.id, @institution.service_levels.include?(service_level) ).to_s); @output_buffer.concat "  \n     "
; @output_buffer.concat(( service_level.name ).to_s); @output_buffer.concat "  \n  "
;  done ; @output_buffer.concat "\n  \n  <p> \n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( link_to 'Back', institutions_path ).to_s); @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/gustavo/Work/compreender2/app/controllers/institutions_controller.rb:30:in `new'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND) on line #24 of app/views/institutions/new.html.erb:
21: 
22: <%= link_to 'Back', institutions_path %>

    app/views/institutions/new.html.erb:26:in `compile!'
    app/controllers/institutions_controller.rb:30:in `new'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.9ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:31:44) [GET]
  [4;35;1mServiceLevel Load (1.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
ERROR: compiling _run_erb_app47views47institutions47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47institutions47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Nova Unidade</h1>\n\n"

;  form_for(@institution) do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    Nome<br />\n    "



; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  </p>\n  <h2>N\303\255veis de Servi\303\247o</h2>\n\n  "



;  @service_levels.each do |service_level| ; @output_buffer.concat "\n     "
; @output_buffer.concat(( check_box_tag "instittution[service_levels_ids][]", service_level.id, @institution.service_levels.include?(service_level) ).to_s); @output_buffer.concat "  \n     "
; @output_buffer.concat(( service_level.name ).to_s); @output_buffer.concat "  \n  "
;  done ; @output_buffer.concat "\n  \n  <p> \n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( link_to 'Back', institutions_path ).to_s); @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/gustavo/Work/compreender2/app/controllers/institutions_controller.rb:30:in `new'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND) on line #24 of app/views/institutions/new.html.erb:
21: 
22: <%= link_to 'Back', institutions_path %>

    app/views/institutions/new.html.erb:26:in `compile!'
    app/controllers/institutions_controller.rb:30:in `new'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (43.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:31:45) [GET]
  [4;36;1mServiceLevel Load (1.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
ERROR: compiling _run_erb_app47views47institutions47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47institutions47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Nova Unidade</h1>\n\n"

;  form_for(@institution) do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    Nome<br />\n    "



; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  </p>\n  <h2>N\303\255veis de Servi\303\247o</h2>\n\n  "



;  @service_levels.each do |service_level| ; @output_buffer.concat "\n     "
; @output_buffer.concat(( check_box_tag "instittution[service_levels_ids][]", service_level.id, @institution.service_levels.include?(service_level) ).to_s); @output_buffer.concat "  \n     "
; @output_buffer.concat(( service_level.name ).to_s); @output_buffer.concat "  \n  "
;  done ; @output_buffer.concat "\n  \n  <p> \n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( link_to 'Back', institutions_path ).to_s); @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:942:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:135
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:179:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `each'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:173:in `respond'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/mime_responds.rb:107:in `respond_to'
/home/gustavo/Work/compreender2/app/controllers/institutions_controller.rb:30:in `new'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:24: syntax error, unexpected kENSURE, expecting kEND
/home/gustavo/Work/compreender2/app/views/institutions/new.html.erb:26: syntax error, unexpected $end, expecting kEND) on line #24 of app/views/institutions/new.html.erb:
21: 
22: <%= link_to 'Back', institutions_path %>

    app/views/institutions/new.html.erb:26:in `compile!'
    app/controllers/institutions_controller.rb:30:in `new'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:05) [GET]
  [4;35;1mServiceLevel Load (1.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 44ms (View: 25, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:28) [GET]
  [4;36;1mServiceLevel Load (1.4ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 33ms (View: 14, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:29) [GET]
  [4;35;1mServiceLevel Load (1.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 25ms (View: 6, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:29) [GET]
  [4;36;1mServiceLevel Load (1.4ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 28ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:30) [GET]
  [4;35;1mServiceLevel Load (1.4ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 27ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:30) [GET]
  [4;36;1mServiceLevel Load (1.4ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 25ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:32:30) [GET]
  [4;35;1mServiceLevel Load (1.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 26ms (View: 7, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:34:45) [GET]
  [4;36;1mServiceLevel Load (1.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
Completed in 31ms (View: 13, DB: 1) | 200 OK [http://127.0.0.1/institutions/new]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-07 10:37:16) [GET]

ActionController::RoutingError (No route matches "/service_level" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 10:37:21) [GET]
  [4;35;1mServiceLevel Load (2.6ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 57ms (View: 43, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#new (for 127.0.0.1 at 2010-12-07 10:37:23) [GET]
Rendering template within layouts/service_levels
Rendering service_levels/new
Completed in 42ms (View: 28, DB: 0) | 200 OK [http://127.0.0.1/service_levels/new]


Processing ServiceLevelsController#create (for 127.0.0.1 at 2010-12-07 10:37:30) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil"}}
  [4;36;1mServiceLevel Create (28.0ms)[0m   [0;1mINSERT INTO "service_levels" ("name", "created_at", "updated_at") VALUES('EducaÃ§Ã£o Infantil', '2010-12-07 12:37:30', '2010-12-07 12:37:30')[0m
Redirected to http://127.0.0.1:3000/service_levels/1
Completed in 85ms (DB: 28) | 302 Found [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-07 10:37:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (5.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 41ms (View: 24, DB: 5) | 200 OK [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 10:37:33) [GET]
  [4;36;1mServiceLevel Load (2.9ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 22ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#new (for 127.0.0.1 at 2010-12-07 10:37:35) [GET]
Rendering template within layouts/service_levels
Rendering service_levels/new
Completed in 26ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/service_levels/new]


Processing ServiceLevelsController#create (for 127.0.0.1 at 2010-12-07 10:37:42) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"Ensino Fundamental"}}
  [4;35;1mServiceLevel Create (10.3ms)[0m   [0mINSERT INTO "service_levels" ("name", "created_at", "updated_at") VALUES('Ensino Fundamental', '2010-12-07 12:37:42', '2010-12-07 12:37:42')[0m
Redirected to http://127.0.0.1:3000/service_levels/2
Completed in 136ms (DB: 10) | 302 Found [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-07 10:37:42) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mServiceLevel Load (1.3ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 2) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 18ms (View: 5, DB: 1) | 200 OK [http://127.0.0.1/service_levels/2]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 10:37:48) [GET]
  [4;35;1mInstitution Load (2.7ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 18ms (View: 3, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 10:37:50) [GET]
  [4;36;1mServiceLevel Load (1.5ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
  [4;35;1mServiceLevel Load (1.4ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.3ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
Completed in 107ms (View: 14, DB: 4) | 200 OK [http://127.0.0.1/institutions/new]
  [4;36;1mSQL (2.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (10.0ms)[0m   [0mCREATE TABLE "segments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207123842')[0m
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;35;1mSQL (14.6ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101207123857')[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:01:30) [GET]
  [4;36;1mSegment Load (5.6ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 217ms (View: 188, DB: 6) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:01:32) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 29ms (View: 18, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:01:41) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Professores"}}
  [4;35;1mSegment Create (42.7ms)[0m   [0mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Professores', '2010-12-07 13:01:41', '2010-12-07 13:01:41')[0m
Redirected to http://127.0.0.1:3000/segments/1
Completed in 177ms (DB: 43) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:01:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 1) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 26ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/segments/1]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:01:44) [GET]
  [4;35;1mSegment Load (3.1ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 22ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:01:45) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 25ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:01:51) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Educandos"}}
  [4;36;1mSegment Create (14.3ms)[0m   [0;1mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Educandos', '2010-12-07 13:01:51', '2010-12-07 13:01:51')[0m
Redirected to http://127.0.0.1:3000/segments/2
Completed in 43ms (DB: 14) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:01:51) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 2) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://127.0.0.1/segments/2]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:01:54) [GET]
  [4;36;1mSegment Load (3.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 24ms (View: 11, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:01:56) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:02:04) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Familiares"}}
  [4;35;1mSegment Create (4.4ms)[0m   [0mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Familiares', '2010-12-07 13:02:04', '2010-12-07 13:02:04')[0m
Redirected to http://127.0.0.1:3000/segments/3
Completed in 39ms (DB: 4) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:02:04) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/3]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:02:06) [GET]
  [4;35;1mSegment Load (3.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 29ms (View: 15, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:02:09) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:02:14) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"FuncionÃ¡rios"}}
  [4;36;1mSegment Create (5.7ms)[0m   [0;1mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('FuncionÃ¡rios', '2010-12-07 13:02:14', '2010-12-07 13:02:14')[0m
Redirected to http://127.0.0.1:3000/segments/4
Completed in 32ms (DB: 6) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:02:14) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 4) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://127.0.0.1/segments/4]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:02:28) [GET]
  [4;36;1mSegment Load (3.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 32ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:02:34) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 26ms (View: 12, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:02:38) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Gestores"}}
  [4;35;1mSegment Create (4.1ms)[0m   [0mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Gestores', '2010-12-07 13:02:38', '2010-12-07 13:02:38')[0m
Redirected to http://127.0.0.1:3000/segments/5
Completed in 34ms (DB: 4) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:02:38) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/5]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:02:40) [GET]
  [4;35;1mSegment Load (3.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 37ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:06:45) [GET]
  [4;36;1mServiceLevel Load (3.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 55ms (View: 40, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:06:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
Completed in 42ms (View: 28, DB: 2) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:08:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #11 of app/views/service_levels/_form.html.erb:
8: 
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  

    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.4ms)
Rendered rescues/_request_and_response (7.4ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:09:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.5ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (179.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateServiceLevelsSegments (20101207123857)
Migrating to CreateSegmentsServiceLevels (20101207131013)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101207131013')[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSegmentsServiceLevels (20101207131013)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.1ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20101207131013'[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateServiceLevelsSegments (20101207123857)
Migrating to CreateSegmentsServiceLevels (20101207131013)
  [4;35;1mSQL (2.9ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101207131013')[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (3.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSegmentsServiceLevels (20101207131013)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (6.2ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20101207131013'[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (8.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (5.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (3.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such table: service_levels_segments: DROP TABLE "service_levels_segments"[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: no such table: service_levels_segments: DROP TABLE "service_levels_segments"[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (5.8ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20101207123857'[0m
  [4;36;1mSQL (13.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;35;1mSQL (10.4ms)[0m   [0mCREATE TABLE "service_levels_segments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "segments_id" integer, "service_level_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207123857')[0m
  [4;35;1mSQL (3.5ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (5.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels_segments")[0m


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (165.0ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (182.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.8ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.8ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (178.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:17:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (178.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateServiceLevelsSegments (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (18.6ms)[0m   [0mDROP TABLE "service_levels_segments"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101207123857'[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:19:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (161.7ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:19:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (177.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:19:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.8ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:19:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:19:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (178.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:20:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (176.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:20:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.5ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:20:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:20:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such table: segments_service_levels: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (175.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (8.8ms)[0m   [0mCREATE TABLE "segments_service_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "segments_id" integer, "service_level_id" integer) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207123857')[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:24:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.8ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: segments_service_levels.segment_id: SELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m

ActionView::TemplateError (SQLite3::SQLException: no such column: segments_service_levels.segment_id: SELECT "segments".id FROM "segments"  INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 )  LIMIT 1) on line #12 of app/views/service_levels/_form.html.erb:
9:   <h2>Segmentos</h2>
10: 
11:   <% @segments.each do |segment| %>
12:      <%= check_box_tag "service_level[segments_ids][]", segment.id, @service_level.segments.include?(segment) %>  
13:      <%= segment.name %> <br />
14:   <% end %>  
15:   <p>

    app/views/service_levels/_form.html.erb:12
    app/views/service_levels/_form.html.erb:11:in `each'
    app/views/service_levels/_form.html.erb:11
    app/views/service_levels/_form.html.erb:1
    app/views/service_levels/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (164.4ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSegmentsServiceLevels (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (7.8ms)[0m   [0mDROP TABLE "segments_service_levels"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101207123857'[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
  [4;36;1mSQL (3.1ms)[0m   [0;1mCREATE TABLE "segments_service_levels" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "segment_id" integer, "service_level_id" integer) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101207123857')[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:27:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (26.4ms)
Completed in 85ms (View: 43, DB: 11) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 11:32:25) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segments_ids"=>["1", "3", "4", "5"]}, "id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m

ActiveRecord::UnknownAttributeError (unknown attribute: segments_ids):
  app/controllers/service_levels_controller.rb:65
  app/controllers/service_levels_controller.rb:64:in `update'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.5ms)
Rendered rescues/_request_and_response (14.5ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 11:33:59) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segments_ids"=>["1", "3", "4", "5"]}, "id"=>"1"}
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m

ActiveRecord::UnknownAttributeError (unknown attribute: segments_ids):
  app/controllers/service_levels_controller.rb:65
  app/controllers/service_levels_controller.rb:64:in `update'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:34:03) [GET]
  [4;35;1mServiceLevel Load (3.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 35ms (View: 20, DB: 3) | 200 OK [http://127.0.0.1/service_levels/]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:35:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (182.5ms)
Completed in 213ms (View: 183, DB: 11) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 11:35:07) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segment_ids"=>["1", "3", "4", "5"]}, "id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (9.4ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" IN (1,3,4,5)) [0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m

ActiveRecord::ConfigurationError (Primary key is not allowed in a has_and_belongs_to_many join table (segments_service_levels).):
  app/controllers/service_levels_controller.rb:65
  app/controllers/service_levels_controller.rb:64:in `update'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (3.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSegmentsServiceLevels (20101207123857)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (15.0ms)[0m   [0mDROP TABLE "segments_service_levels"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101207123857'[0m
  [4;35;1mSQL (3.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateSegments (20101207123842)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (4.3ms)[0m   [0mDROP TABLE "segments"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101207123842'[0m
  [4;35;1mSQL (15.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutionsServiceLevels (20101207115601)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mDROP TABLE "institutions_service_levels"[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20101207115601'[0m
  [4;35;1mSQL (7.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (3.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (11.6ms)[0m   [0mCREATE TABLE "institutions_service_levels" ("institution_id" integer, "service_level_id" integer) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207115601')[0m
Migrating to CreateSegments (20101207123842)
  [4;35;1mSQL (3.5ms)[0m   [0mCREATE TABLE "segments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207123842')[0m
Migrating to CreateSegmentsServiceLevels (20101207123857)
  [4;35;1mSQL (20.1ms)[0m   [0mCREATE TABLE "segments_service_levels" ("segment_id" integer, "service_level_id" integer) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207123857')[0m
  [4;35;1mSQL (3.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (3.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:41:04) [GET]
  [4;36;1mServiceLevel Load (3.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 60ms (View: 32, DB: 4) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:41:06) [GET]
  [4;35;1mServiceLevel Load (3.4ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 26ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:41:07) [GET]
  [4;36;1mServiceLevel Load (3.5ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 118ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:41:07) [GET]
  [4;35;1mServiceLevel Load (3.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 28ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:41:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
Rendered service_levels/_form (10.3ms)
Completed in 47ms (View: 23, DB: 3) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:41:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (6.1ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
Rendered service_levels/_form (15.1ms)
Completed in 58ms (View: 19, DB: 8) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:41:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
Rendered service_levels/_form (8.5ms)
Completed in 36ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 11:41:56) [GET]
  [4;36;1mInstitution Load (3.2ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 63ms (View: 27, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:42:03) [GET]
  [4;35;1mServiceLevel Load (3.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 29ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#new (for 127.0.0.1 at 2010-12-07 11:42:10) [GET]
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/new
Rendered service_levels/_form (8.1ms)
Completed in 38ms (View: 17, DB: 2) | 200 OK [http://127.0.0.1/service_levels/new]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:42:17) [GET]
  [4;35;1mSegment Load (5.0ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 33ms (View: 18, DB: 5) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:42:19) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 26ms (View: 15, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:42:47) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Professores"}}
  [4;36;1mSegment Create (18.9ms)[0m   [0;1mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Professores', '2010-12-07 13:42:47', '2010-12-07 13:42:47')[0m
Redirected to http://127.0.0.1:3000/segments/1
Completed in 45ms (DB: 19) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:42:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 1) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 97ms (View: 84, DB: 2) | 200 OK [http://127.0.0.1/segments/1]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:42:50) [GET]
  [4;36;1mSegment Load (3.4ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 24ms (View: 9, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:42:51) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 37ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:42:55) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Familiares"}}
  [4;35;1mSegment Create (3.9ms)[0m   [0mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Familiares', '2010-12-07 13:42:55', '2010-12-07 13:42:55')[0m
Redirected to http://127.0.0.1:3000/segments/2
Completed in 30ms (DB: 4) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:42:55) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 2) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/segments/2]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:42:57) [GET]
  [4;35;1mSegment Load (3.4ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 25ms (View: 12, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:42:58) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:43:07) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Educandos"}}
  [4;36;1mSegment Create (4.1ms)[0m   [0;1mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Educandos', '2010-12-07 13:43:07', '2010-12-07 13:43:07')[0m
Redirected to http://127.0.0.1:3000/segments/3
Completed in 31ms (DB: 4) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:43:08) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mSegment Load (1.9ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 21ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/3]


Processing SegmentsController#edit (for 127.0.0.1 at 2010-12-07 11:43:09) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/edit
Completed in 45ms (View: 30, DB: 2) | 200 OK [http://127.0.0.1/segments/3/edit]


Processing SegmentsController#update (for 127.0.0.1 at 2010-12-07 11:43:20) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"3", "segment"=>{"name"=>"Familiares"}}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
  [4;36;1mSegment Update (4.6ms)[0m   [0;1mUPDATE "segments" SET "updated_at" = '2010-12-07 13:43:20', "name" = 'Familiares' WHERE "id" = 3[0m
Redirected to http://127.0.0.1:3000/segments/3
Completed in 35ms (DB: 6) | 302 Found [http://127.0.0.1/segments/3]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:43:20) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/segments/3]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:43:22) [GET]
  [4;36;1mSegment Load (3.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 29ms (View: 16, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#edit (for 127.0.0.1 at 2010-12-07 11:43:27) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/edit
Completed in 24ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/segments/3/edit]


Processing SegmentsController#update (for 127.0.0.1 at 2010-12-07 11:43:31) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"3", "segment"=>{"name"=>"FuncionÃ¡rios"}}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
  [4;35;1mSegment Update (2.7ms)[0m   [0mUPDATE "segments" SET "updated_at" = '2010-12-07 13:43:31', "name" = 'FuncionÃ¡rios' WHERE "id" = 3[0m
Redirected to http://127.0.0.1:3000/segments/3
Completed in 27ms (DB: 4) | 302 Found [http://127.0.0.1/segments/3]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:43:31) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 3) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 121ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/3]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:43:33) [GET]
  [4;35;1mSegment Load (3.9ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 33ms (View: 17, DB: 4) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:43:35) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:43:38) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Educandos"}}
  [4;36;1mSegment Create (14.7ms)[0m   [0;1mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Educandos', '2010-12-07 13:43:38', '2010-12-07 13:43:38')[0m
Redirected to http://127.0.0.1:3000/segments/4
Completed in 47ms (DB: 15) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:43:38) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 4) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/segments/4]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:43:42) [GET]
  [4;36;1mSegment Load (3.4ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 32ms (View: 19, DB: 3) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#new (for 127.0.0.1 at 2010-12-07 11:44:00) [GET]
Rendering template within layouts/segments
Rendering segments/new
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/segments/new]


Processing SegmentsController#create (for 127.0.0.1 at 2010-12-07 11:44:04) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "segment"=>{"name"=>"Gestore"}}
  [4;35;1mSegment Create (8.4ms)[0m   [0mINSERT INTO "segments" ("name", "created_at", "updated_at") VALUES('Gestore', '2010-12-07 13:44:04', '2010-12-07 13:44:04')[0m
Redirected to http://127.0.0.1:3000/segments/5
Completed in 37ms (DB: 8) | 302 Found [http://127.0.0.1/segments]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:44:04) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/5]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:44:08) [GET]
  [4;35;1mSegment Load (3.6ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 39ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/segments]


Processing SegmentsController#edit (for 127.0.0.1 at 2010-12-07 11:44:12) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/segments
Rendering segments/edit
Completed in 25ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/segments/5/edit]


Processing SegmentsController#update (for 127.0.0.1 at 2010-12-07 11:44:16) [PUT]
  Parameters: {"commit"=>"Update", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"5", "segment"=>{"name"=>"Gestores"}}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
  [4;36;1mSegment Update (5.0ms)[0m   [0;1mUPDATE "segments" SET "updated_at" = '2010-12-07 13:44:16', "name" = 'Gestores' WHERE "id" = 5[0m
Redirected to http://127.0.0.1:3000/segments/5
Completed in 36ms (DB: 7) | 302 Found [http://127.0.0.1/segments/5]


Processing SegmentsController#show (for 127.0.0.1 at 2010-12-07 11:44:16) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/segments
Rendering segments/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/segments/5]


Processing SegmentsController#index (for 127.0.0.1 at 2010-12-07 11:44:18) [GET]
  [4;36;1mSegment Load (3.6ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/segments
Rendering segments/index
Completed in 36ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/segments]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:44:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (125.1ms)
Completed in 151ms (View: 121, DB: 11) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 11:44:33) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segment_ids"=>["1", "2", "3", "5"]}, "id"=>"1"}
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (1.8ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" IN (1,2,3,5)) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m
  [4;35;1mSQL (7.3ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 5)[0m
Redirected to http://127.0.0.1:3000/service_levels/1
Completed in 62ms (DB: 13) | 302 Found [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-07 11:44:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 35ms (View: 19, DB: 2) | 200 OK [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:44:35) [GET]
  [4;36;1mServiceLevel Load (3.4ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 28ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:44:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.5ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (26.6ms)
Completed in 51ms (View: 21, DB: 11) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 11:44:41) [GET]
  [4;36;1mServiceLevel Load (3.4ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 27ms (View: 13, DB: 3) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 11:44:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mServiceLevel Load (29.4ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 2) [0m
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;35;1mSegment Load (1.7ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 2 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 2 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 2 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 2 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.5ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 2 ) LIMIT 1[0m
Rendered service_levels/_form (31.4ms)
Completed in 164ms (View: 27, DB: 39) | 200 OK [http://127.0.0.1/service_levels/2/edit]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 11:44:47) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"Ensino Fundamental", "segment_ids"=>["1", "2", "3", "4", "5"]}, "id"=>"2"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 2) [0m
  [4;35;1mSegment Load (2.0ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" IN (1,2,3,4,5)) [0m
  [4;36;1mSegment Load (1.6ms)[0m   [0;1mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 2 ) [0m
  [4;35;1mSQL (3.1ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (2, 1)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (2, 2)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (2, 3)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (2, 4)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (2, 5)[0m
Redirected to http://127.0.0.1:3000/service_levels/2
Completed in 54ms (DB: 9) | 302 Found [http://127.0.0.1/service_levels/2]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-07 11:44:47) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 2) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/service_levels/2]
  [4;36;1mSQL (3.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (3.1ms)[0m   [0mCREATE TABLE "surveys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "segment_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207135253')[0m
  [4;35;1mSQL (12.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.7ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (3.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("surveys")[0m


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:03:25) [GET]
  [4;36;1mInstitution Load (3.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 58ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-07 12:03:29) [GET]
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
Completed in 48ms (View: 23, DB: 5) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#create (for 127.0.0.1 at 2010-12-07 12:05:20) [POST]
  Parameters: {"commit"=>"Criar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "instittution"=>{"service_levels_ids"=>["1"]}}
  [4;36;1mInstitution Create (5.7ms)[0m   [0;1mINSERT INTO "institutions" ("name", "created_at", "updated_at") VALUES('ADELAIDE DIAS', '2010-12-07 14:05:20', '2010-12-07 14:05:20')[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 35ms (DB: 6) | 302 Found [http://127.0.0.1/institutions]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:05:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 56ms (View: 41, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-07 12:07:07) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segment_ids"=>["1", "3", "4", "5"]}, "id"=>"1"}
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" IN (1,3,4,5)) [0m
  [4;36;1mSegment Load (1.9ms)[0m   [0;1mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m
  [4;35;1mSQL (8.9ms)[0m   [0mDELETE FROM "segments_service_levels" WHERE service_level_id = 1 AND segment_id IN (2)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 4)[0m
Redirected to http://127.0.0.1:3000/service_levels/1
Completed in 70ms (DB: 15) | 302 Found [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-07 12:07:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 59ms (View: 43, DB: 2) | 200 OK [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-07 12:07:10) [GET]
  [4;36;1mServiceLevel Load (3.5ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 32ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/service_levels]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:07:19) [GET]
  [4;35;1mInstitution Load (3.6ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 133ms (View: 10, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:07:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/edit
Completed in 47ms (View: 32, DB: 2) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:07:25) [GET]
  [4;35;1mInstitution Load (3.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 22ms (View: 9, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:08:28) [GET]
  [4;36;1mInstitution Load (3.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 25ms (View: 10, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:08:31) [GET]
  [4;35;1mInstitution Load (3.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 21ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:08:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.6ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/edit

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #12 of app/views/institutions/_form.html.erb:
9: 
10:   <h2>NÃ­veis de Atendimento</h2>
11: 
12:   <% @service_levels.each do |service_level| %>
13:      <%= check_box_tag "instittution[service_levels_ids][]", service_level.id, @institution.service_levels.include?(service_level) %>  
14:      <%= service_level.name %> <br />
15:   <% end %>  

    app/views/institutions/_form.html.erb:12
    app/views/institutions/_form.html.erb:2
    app/views/institutions/edit.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (158.7ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:08:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.9ms)
Completed in 41ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:09:02) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1", "instittution"=>{"service_levels_ids"=>["1"]}}
  [4;35;1mInstitution Load (1.8ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:09:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:09:04) [GET]
  [4;35;1mInstitution Load (3.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 22ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:09:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.9ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (16.4ms)
Completed in 44ms (View: 16, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]
  [4;36;1mInstitution Load (3.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.0ms)[0m   [0mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-07 12:11:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.0ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (1.8ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.6ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.7ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (1.9ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (1.9ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (27.6ms)
Completed in 86ms (View: 44, DB: 13) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:11:54) [GET]
  [4;35;1mInstitution Load (3.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 136ms (View: 29, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:11:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.9ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (16.4ms)
Completed in 54ms (View: 25, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:12:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.6ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (15.2ms)
Completed in 45ms (View: 19, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:12:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.8ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.7ms)
Completed in 39ms (View: 13, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:12:23) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1", "instittution"=>{"service_level_ids"=>["1", "2"]}}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 28ms (View: 12, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:12:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.9ms)
Completed in 42ms (View: 15, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:12:29) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1", "instittution"=>{"service_level_ids"=>["1"]}}
  [4;36;1mInstitution Load (1.9ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:12:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:12:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.9ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.7ms)
Completed in 39ms (View: 13, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]
  [4;36;1mServiceLevel Load (2.0ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSQL (24.4ms)[0m   [0mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (1, 1)[0m


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.6ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.7ms)
Completed in 40ms (View: 13, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:13:31) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.9ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:13:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 21ms (View: 6, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.8ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (16.6ms)
Completed in 48ms (View: 21, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:13:35) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 19ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:13:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-07 12:13:37) [GET]
  [4;36;1mInstitution Load (3.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 23ms (View: 8, DB: 3) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.8ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (113.4ms)
Completed in 139ms (View: 113, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:13:41) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:13:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.8ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.3ms)
Completed in 40ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.8ms)
Completed in 39ms (View: 13, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.8ms)
Completed in 40ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:13:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (9.4ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (131.2ms)
Completed in 156ms (View: 123, DB: 15) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:14:00) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS", "service_level_ids"=>["1", "2"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.9ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" IN (1,2)) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;36;1mSQL (12.8ms)[0m   [0;1mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (2, 1)[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 83ms (DB: 18) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:14:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.0ms)
Completed in 41ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:14:05) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS", "service_level_ids"=>["1"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.9ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.9ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mSQL (18.8ms)[0m   [0mDELETE FROM "institutions_service_levels" WHERE institution_id = 1 AND service_level_id IN (2)[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 79ms (DB: 24) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:14:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 19ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.6ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.9ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (121.1ms)
Completed in 147ms (View: 121, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:14:09) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 21ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:14:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.1ms)
Completed in 40ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]
  [4;36;1mSQL (65.3ms)[0m   [0;1mDELETE FROM "institutions_service_levels" WHERE institution_id = 1 AND service_level_id IN (1)[0m


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:28) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.5ms)
Completed in 41ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.8ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.5ms)
Completed in 40ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:14:31) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS", "service_level_ids"=>["1"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.9ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;36;1mSQL (14.3ms)[0m   [0;1mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (1, 1)[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 207ms (DB: 20) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:14:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 21ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.6ms)
Completed in 41ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:14:37) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 18ms (DB: 2) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:14:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:14:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (13.8ms)
Completed in 39ms (View: 13, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:16:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.8ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (14.3ms)
Completed in 42ms (View: 15, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:16:41) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS"}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.8ms)[0m   [0mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;36;1mSQL (11.9ms)[0m   [0;1mDELETE FROM "institutions_service_levels" WHERE institution_id = 1 AND service_level_id IN (1)[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 86ms (DB: 15) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:16:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#edit (for 127.0.0.1 at 2010-12-07 12:16:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/edit
  [4;36;1mServiceLevel Load (1.7ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (1.6ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = 1 ) LIMIT 1[0m
Rendered institutions/_form (15.0ms)
Completed in 41ms (View: 15, DB: 7) | 200 OK [http://127.0.0.1/institutions/1/edit]


Processing InstitutionsController#update (for 127.0.0.1 at 2010-12-07 12:16:44) [PUT]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"ADELAIDE DIAS", "service_level_ids"=>["1"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
  [4;35;1mServiceLevel Load (1.7ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mServiceLevel Load (1.6ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mSQL (199.3ms)[0m   [0mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (1, 1)[0m
Redirected to http://127.0.0.1:3000/institutions/1
Completed in 1144ms (DB: 204) | 302 Found [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:16:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInstitution Load (1.7ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 20ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-07 12:18:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInstitution Load (1.7ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 1) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/institutions/1]
  [4;36;1mSQL (3.6ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (17.3ms)[0m   [0mALTER TABLE "surveys" ADD "service_level_id" integer[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207142112')[0m
  [4;35;1mSQL (2.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments_service_levels")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("surveys")[0m
  [4;36;1mSQL (3.8ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.7ms)[0m   [0mCREATE TABLE "questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "dimension_id" integer, "number" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207144156')[0m
  [4;35;1mSQL (6.8ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.9ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("surveys")[0m
  [4;36;1mSQL (3.9ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (16.9ms)[0m   [0mCREATE TABLE "questions_surveys" ("question_id" integer, "surveys_id" integer) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207145127')[0m
Migrating to CreateDimensions (20101207145317)
  [4;35;1mSQL (4.9ms)[0m   [0mCREATE TABLE "dimensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101207145317')[0m
  [4;35;1mSQL (2.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (2.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (2.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("dimensions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("questions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions_surveys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("surveys")[0m


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:55:38) [GET]
  [4;36;1mDimension Load (4.3ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 34ms (View: 20, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:55:39) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 119ms (View: 108, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:56:43) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"Ambiente Educativo"}}
  [4;35;1mDimension Create (80.4ms)[0m   [0mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('Ambiente Educativo', '2010-12-07 14:56:43', '2010-12-07 14:56:43')[0m
Redirected to http://127.0.0.1:3000/dimensions/1
Completed in 144ms (DB: 80) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:56:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mDimension Load (2.0ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 1) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 24ms (View: 11, DB: 2) | 200 OK [http://127.0.0.1/dimensions/1]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:56:48) [GET]
  [4;35;1mDimension Load (4.2ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 22ms (View: 8, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:56:49) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:57:07) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"Ambiente FÃ­sico Escolar e Materiais"}}
  [4;36;1mDimension Create (7.0ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('Ambiente FÃ­sico Escolar e Materiais', '2010-12-07 14:57:07', '2010-12-07 14:57:07')[0m
Redirected to http://127.0.0.1:3000/dimensions/2
Completed in 33ms (DB: 7) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:57:07) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mDimension Load (2.0ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 2) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 112ms (View: 99, DB: 2) | 200 OK [http://127.0.0.1/dimensions/2]


Processing DimensionsController#edit (for 127.0.0.1 at 2010-12-07 12:57:35) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mDimension Load (2.0ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 2) [0m
Rendering template within layouts/dimensions
Rendering dimensions/edit
Completed in 32ms (View: 18, DB: 2) | 200 OK [http://127.0.0.1/dimensions/2/edit]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:57:37) [GET]
  [4;35;1mDimension Load (4.3ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 26ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:57:38) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:57:40) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"Planejamento Institucional e PrÃ¡tica PedagÃ³gica"}}
  [4;36;1mDimension Create (4.0ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('Planejamento Institucional e PrÃ¡tica PedagÃ³gica', '2010-12-07 14:57:40', '2010-12-07 14:57:40')[0m
Redirected to http://127.0.0.1:3000/dimensions/3
Completed in 39ms (DB: 4) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:57:40) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mDimension Load (2.2ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 3) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/dimensions/3]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:57:53) [GET]
  [4;36;1mDimension Load (4.3ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 29ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:57:54) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 23ms (View: 11, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:58:44) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"AvaliaÃ§Ã£o"}}
  [4;35;1mDimension Create (7.6ms)[0m   [0mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('AvaliaÃ§Ã£o', '2010-12-07 14:58:44', '2010-12-07 14:58:44')[0m
Redirected to http://127.0.0.1:3000/dimensions/4
Completed in 35ms (DB: 8) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:58:44) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mDimension Load (2.0ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 4) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/dimensions/4]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:59:16) [GET]
  [4;35;1mDimension Load (4.3ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 32ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:59:17) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:59:20) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"Acesso e PermanÃªncia dos Educandos na Escola"}}
  [4;36;1mDimension Create (25.0ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('Acesso e PermanÃªncia dos Educandos na Escola', '2010-12-07 14:59:20', '2010-12-07 14:59:20')[0m
Redirected to http://127.0.0.1:3000/dimensions/5
Completed in 83ms (DB: 25) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:59:20) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mDimension Load (2.1ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 5) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/dimensions/5]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:59:22) [GET]
  [4;36;1mDimension Load (4.5ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 37ms (View: 24, DB: 5) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 12:59:37) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 12:59:40) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"PromoÃ§Ã£o da SaÃºde"}}
  [4;35;1mDimension Create (17.1ms)[0m   [0mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('PromoÃ§Ã£o da SaÃºde', '2010-12-07 14:59:40', '2010-12-07 14:59:40')[0m
Redirected to http://127.0.0.1:3000/dimensions/6
Completed in 64ms (DB: 17) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 12:59:40) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mDimension Load (2.0ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 6) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 18ms (View: 4, DB: 2) | 200 OK [http://127.0.0.1/dimensions/6]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 12:59:42) [GET]
  [4;35;1mDimension Load (4.3ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 39ms (View: 26, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 13:00:13) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 13:00:16) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"EducaÃ§Ã£o Socioambiental e PrÃ¡ticas EcopedagÃ³gicas"}}
  [4;36;1mDimension Create (4.5ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('EducaÃ§Ã£o Socioambiental e PrÃ¡ticas EcopedagÃ³gicas', '2010-12-07 15:00:16', '2010-12-07 15:00:16')[0m
Redirected to http://127.0.0.1:3000/dimensions/7
Completed in 32ms (DB: 5) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 13:00:16) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mDimension Load (2.1ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 7) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 19ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/dimensions/7]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 13:01:29) [GET]
  [4;36;1mDimension Load (4.5ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 44ms (View: 30, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 14:39:46) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 105ms (View: 55, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 14:39:47) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"Envolvimento com as famÃ­lias e participaÃ§Ã£o na Rede de ProteÃ§Ã£o Social"}}
  [4;36;1mDimension Create (12.7ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('Envolvimento com as famÃ­lias e participaÃ§Ã£o na Rede de ProteÃ§Ã£o Social', '2010-12-07 16:39:47', '2010-12-07 16:39:47')[0m
Redirected to http://127.0.0.1:3000/dimensions/8
Completed in 38ms (DB: 13) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 14:39:48) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mDimension Load (2.1ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 8) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 25ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/dimensions/8]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 14:39:50) [GET]
  [4;36;1mDimension Load (4.5ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 53ms (View: 39, DB: 4) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 14:39:52) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 14:42:41) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"GestÃ£o Escolar DemocrÃ¡tica"}}
  [4;35;1mDimension Create (9.7ms)[0m   [0mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('GestÃ£o Escolar DemocrÃ¡tica', '2010-12-07 16:42:41', '2010-12-07 16:42:41')[0m
Redirected to http://127.0.0.1:3000/dimensions/9
Completed in 47ms (DB: 10) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 14:42:41) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mDimension Load (2.1ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 9) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/dimensions/9]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 14:43:36) [GET]
  [4;35;1mDimension Load (4.5ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 53ms (View: 37, DB: 5) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#new (for 127.0.0.1 at 2010-12-07 14:43:38) [GET]
Rendering template within layouts/dimensions
Rendering dimensions/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/dimensions/new]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 14:43:40) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"FormaÃ§Ã£o e condiÃ§Ãµes de trabalho dos profissionais da escola"}}
  [4;36;1mDimension Create (9.1ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('FormaÃ§Ã£o e condiÃ§Ãµes de trabalho dos profissionais da escola', '2010-12-07 16:43:40', '2010-12-07 16:43:40')[0m
Redirected to http://127.0.0.1:3000/dimensions/10
Completed in 36ms (DB: 9) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 14:43:40) [GET]
  Parameters: {"id"=>"10"}
  [4;35;1mDimension Load (2.0ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 10) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 20ms (View: 5, DB: 2) | 200 OK [http://127.0.0.1/dimensions/10]


Processing DimensionsController#create (for 127.0.0.1 at 2010-12-07 14:48:09) [POST]
  Parameters: {"commit"=>"Create", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "dimension"=>{"name"=>"FormaÃ§Ã£o e condiÃ§Ãµes de trabalho dos profissionais da escola"}}
  [4;36;1mDimension Create (4.5ms)[0m   [0;1mINSERT INTO "dimensions" ("name", "created_at", "updated_at") VALUES('FormaÃ§Ã£o e condiÃ§Ãµes de trabalho dos profissionais da escola', '2010-12-07 16:48:09', '2010-12-07 16:48:09')[0m
Redirected to http://127.0.0.1:3000/dimensions/11
Completed in 34ms (DB: 5) | 302 Found [http://127.0.0.1/dimensions]


Processing DimensionsController#show (for 127.0.0.1 at 2010-12-07 14:48:09) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mDimension Load (2.1ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 11) [0m
Rendering template within layouts/dimensions
Rendering dimensions/show
Completed in 21ms (View: 7, DB: 2) | 200 OK [http://127.0.0.1/dimensions/11]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 14:48:10) [GET]
  [4;36;1mDimension Load (6.7ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 65ms (View: 47, DB: 7) | 200 OK [http://127.0.0.1/dimensions]


Processing DimensionsController#destroy (for 127.0.0.1 at 2010-12-07 14:48:14) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"11"}
  [4;35;1mDimension Load (2.5ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 11) [0m
  [4;36;1mDimension Destroy (16.2ms)[0m   [0;1mDELETE FROM "dimensions" WHERE "id" = 11[0m
Redirected to http://127.0.0.1:3000/dimensions
Completed in 49ms (DB: 19) | 302 Found [http://127.0.0.1/dimensions/11]


Processing DimensionsController#index (for 127.0.0.1 at 2010-12-07 14:48:14) [GET]
  [4;35;1mDimension Load (4.6ms)[0m   [0mSELECT * FROM "dimensions" [0m
Rendering template within layouts/dimensions
Rendering dimensions/index
Completed in 54ms (View: 40, DB: 5) | 200 OK [http://127.0.0.1/dimensions]


Processing QuestionsController#index (for 127.0.0.1 at 2010-12-07 14:51:53) [GET]
  [4;36;1mQuestion Load (4.1ms)[0m   [0;1mSELECT * FROM "questions" [0m
Rendering template within layouts/questions
Rendering questions/index
Completed in 62ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/questions]


Processing QuestionsController#new (for 127.0.0.1 at 2010-12-07 14:51:55) [GET]
Rendering template within layouts/questions
Rendering questions/new
Completed in 139ms (View: 127, DB: 0) | 200 OK [http://127.0.0.1/questions/new]
  [4;36;1mDimension Load (58.4ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."id" = 1) [0m
  [4;35;1mDimension Load (2.6ms)[0m   [0mSELECT * FROM "dimensions" WHERE ("dimensions"."name" = 'Ambiente Educativo') LIMIT 1[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (2.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (6.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101207165549')[0m
Migrating to CreateUsers (20101208021937)
  [4;36;1mSQL (3.7ms)[0m   [0;1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "institution_id" integer, "service_level_id" integer, "segment_id" integer, "password" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101208021937')[0m
  [4;36;1mSQL (19.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (4.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (3.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("dimensions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("questions_surveys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments_service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("surveys")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
/!\ FAILSAFE /!\  Wed Dec 08 00:37:05 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Dec 08 00:38:15 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Dec 08 00:39:25 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Dec 08 00:40:43 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Dec 08 00:41:08 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3
/!\ FAILSAFE /!\  Wed Dec 08 00:41:19 -0200 2010
  Status: 500 Internal Server Error
  /home/gustavo/Work/compreender2/app/controllers/application_controller.rb:22: syntax error, unexpected kIF, expecting ')'
    if user.password.nil?
      ^
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_without_new_constant_marking'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:380:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:521:in `new_constants_in'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:379:in `load_file'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:259:in `require_or_load'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:80:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/dependencies.rb:92:in `const_missing'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:89:in `dispatch'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
    /usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
    /usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
    /usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
    /usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
    /usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
    script/server:3


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:42:09) [GET]
  [4;36;1mInstitution Load (4.8ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 96ms (View: 44, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-08 00:42:11) [GET]
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (2.0ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
Rendered institutions/_form (15.8ms)
Completed in 59ms (View: 24, DB: 6) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#create (for 127.0.0.1 at 2010-12-08 00:42:17) [POST]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"Teste", "service_level_ids"=>["1"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mInstitution Create (4.8ms)[0m   [0mINSERT INTO "institutions" ("name", "created_at", "updated_at") VALUES('Teste', '2010-12-08 02:42:17', '2010-12-08 02:42:17')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (1, 2)[0m
  [4;35;1mSegment Load (2.5ms)[0m   [0mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m
Redirected to http://127.0.0.1:3000/institutions/2
Completed in 70ms (DB: 10) | 302 Found [http://127.0.0.1/institutions]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-08 00:42:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 2) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 31ms (View: 13, DB: 2) | 200 OK [http://127.0.0.1/institutions/2]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:42:19) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 29ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/institutions]
  [4;36;1mUser Load (4.8ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing InstitutionsController#destroy (for 127.0.0.1 at 2010-12-08 00:44:08) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "id"=>"2"}
  [4;36;1mInstitution Load (2.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 2) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 2 ) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mDELETE FROM "institutions_service_levels" WHERE institution_id = 2 AND service_level_id IN (1)[0m
  [4;35;1mInstitution Destroy (0.1ms)[0m   [0mDELETE FROM "institutions" WHERE "id" = 2[0m
Redirected to http://127.0.0.1:3000/institutions
Completed in 60ms (DB: 6) | 302 Found [http://127.0.0.1/institutions/2]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:44:08) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 43ms (View: 27, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#new (for 127.0.0.1 at 2010-12-08 00:44:10) [GET]
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/institutions
Rendering institutions/new
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 1) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
  [4;35;1mServiceLevel Load (2.0ms)[0m   [0mSELECT "service_levels".id FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("service_levels"."id" = 2) AND ("institutions_service_levels".institution_id = NULL ) LIMIT 1[0m
Rendered institutions/_form (15.9ms)
Completed in 50ms (View: 24, DB: 6) | 200 OK [http://127.0.0.1/institutions/new]


Processing InstitutionsController#create (for 127.0.0.1 at 2010-12-08 00:44:14) [POST]
  Parameters: {"commit"=>"Salvar", "institution"=>{"name"=>"Teste", "service_level_ids"=>["1"]}, "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mInstitution Create (6.6ms)[0m   [0mINSERT INTO "institutions" ("name", "created_at", "updated_at") VALUES('Teste', '2010-12-08 02:44:14', '2010-12-08 02:44:14')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO "institutions_service_levels" ("service_level_id", "institution_id") VALUES (1, 3)[0m
  [4;35;1mSegment Load (2.5ms)[0m   [0mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m
  [4;36;1mUser Create (4.4ms)[0m   [0;1mINSERT INTO "users" ("service_level_id", "segment_id", "created_at", "updated_at", "institution_id", "password") VALUES(1, 1, '2010-12-08 02:44:14', '2010-12-08 02:44:14', 3, NULL)[0m
  [4;35;1mUser Create (3.3ms)[0m   [0mINSERT INTO "users" ("service_level_id", "segment_id", "created_at", "updated_at", "institution_id", "password") VALUES(1, 3, '2010-12-08 02:44:14', '2010-12-08 02:44:14', 3, NULL)[0m
  [4;36;1mUser Create (3.7ms)[0m   [0;1mINSERT INTO "users" ("service_level_id", "segment_id", "created_at", "updated_at", "institution_id", "password") VALUES(1, 5, '2010-12-08 02:44:14', '2010-12-08 02:44:14', 3, NULL)[0m
  [4;35;1mUser Create (3.4ms)[0m   [0mINSERT INTO "users" ("service_level_id", "segment_id", "created_at", "updated_at", "institution_id", "password") VALUES(1, 4, '2010-12-08 02:44:14', '2010-12-08 02:44:14', 3, NULL)[0m
Redirected to http://127.0.0.1:3000/institutions/3
Completed in 243ms (DB: 26) | 302 Found [http://127.0.0.1/institutions]


Processing InstitutionsController#show (for 127.0.0.1 at 2010-12-08 00:44:14) [GET]
  Parameters: {"id"=>"3"}
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
Rendering template within layouts/institutions
Rendering institutions/show
Completed in 27ms (View: 10, DB: 2) | 200 OK [http://127.0.0.1/institutions/3]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:44:16) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 28ms (View: 13, DB: 4) | 200 OK [http://127.0.0.1/institutions]
  [4;36;1mUser Load (4.9ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:50:37) [GET]
  [4;36;1mInstitution Load (4.7ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 62ms (View: 34, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:54:00) [GET]
  [4;35;1mInstitution Load (4.7ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index

ActionView::TemplateError (undefined local variable or method `csrf_meta_tag' for #<ActionView::Base:0xb6b22abc>) on line #10 of app/views/layouts/institutions.html.erb:
7:   <title>Compreender</title>
8:   <%= stylesheet_link_tag :all %>
9:   <%= javascript_include_tag :defaults %>
10:   <%= csrf_meta_tag %>
11: </head>
12: <body>
13: <div id="header">

    app/views/layouts/institutions.html.erb:10
    app/controllers/institutions_controller.rb:7:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (10.3ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:54:12) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 41ms (View: 24, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 00:54:12) [GET]

ActionController::RoutingError (No route matches "/images/lateral.jpg" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:54:48) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 37ms (View: 21, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:57:19) [GET]
  [4;36;1mInstitution Load (4.8ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 31ms (View: 16, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:58:45) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 38ms (View: 23, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:58:46) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 29ms (View: 14, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:59:09) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 37ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:59:44) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 36ms (View: 21, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 00:59:45) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 33ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:01) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 38ms (View: 22, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:02) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 30ms (View: 14, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:02) [GET]
  [4;36;1mInstitution Load (5.0ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 36ms (View: 18, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:02) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 31ms (View: 15, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:03) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 32ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:50) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 38ms (View: 22, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:51) [GET]
  [4;36;1mInstitution Load (4.7ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 30ms (View: 15, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:52) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 29ms (View: 14, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:00:53) [GET]
  [4;36;1mInstitution Load (21.0ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 49ms (View: 16, DB: 21) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:01:46) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 35ms (View: 20, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:01:47) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 31ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:04:38) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (undefined local variable or method `csrf_meta_tag' for #<ActionView::Base:0xb6c0851c>) on line #7 of app/views/layouts/application.html.erb:
4:   <title>Compreender</title>
5:   <%= stylesheet_link_tag :all %>
6:   <%= javascript_include_tag :defaults %>
7:   <%= csrf_meta_tag %>
8: </head>
9: <body>
10: <div id="header">

    app/views/layouts/application.html.erb:7
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (1.9ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:05:04) [GET]
Rendering template within layouts/application
Rendering session/new
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:05:27) [GET]
Rendering template within layouts/application
Rendering session/new
Completed in 18ms (View: 13, DB: 0) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:18:49) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, {"name", "id"}, {:size=>5}) %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:30) [GET]
  [4;35;1mInstitution Load (4.8ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:31) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:32) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:32) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (151.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:33) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:19:48) [GET]
  [4;36;1mInstitution Load (5.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (155.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:20:32) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:20:33) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (152.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:20:33) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:20:38) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 52ms (View: 33, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:20:45) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#new (for 127.0.0.1 at 2010-12-08 01:22:10) [GET]

SyntaxError (/home/gustavo/Work/compreender2/app/controllers/session_controller.rb:8: syntax error, unexpected ']', expecting kEND
/home/gustavo/Work/compreender2/app/controllers/session_controller.rb:23: syntax error, unexpected $end, expecting kEND):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (29.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:22:47) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:10: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

;  form_tag ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n\n"

; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:10:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:10: syntax error, unexpected kENSURE, expecting $end) on line #10 of app/views/session/new.html.erb:
7: <% end %>

    app/views/session/new.html.erb:10:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:24) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.3ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:26) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:26) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:27) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:27) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:43) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <%= form_tag "teste" %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:44) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <%= form_tag "teste" %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (157.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:23:45) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <%= form_tag "teste" %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>

    app/views/session/new.html.erb:5
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:24:30) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:3: syntax error, unexpected ')'
...concat(( form_tag "teste" do ).to_s); @output_buffer.concat ...
                              ^
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting ')'
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:13: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

; @output_buffer.concat(( form_tag "teste" do ).to_s); @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n\n\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:13:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:3: syntax error, unexpected ')'
...concat(( form_tag "teste" do ).to_s); @output_buffer.concat ...
                              ^
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting ')'
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:13: syntax error, unexpected kEND, expecting ')') on line #3 of app/views/session/new.html.erb:
1: <h1>Login</h1>
2: 
3: <%= form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 

    app/views/session/new.html.erb:13:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (157.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:25:31) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

; @output_buffer.concat(( form_tag "teste" ).to_s); @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n\n\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:11:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end) on line #11 of app/views/session/new.html.erb:
0
    app/views/session/new.html.erb:11:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:25:33) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

; @output_buffer.concat(( form_tag "teste" ).to_s); @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n\n\n"


; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:11:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:11: syntax error, unexpected kENSURE, expecting $end) on line #11 of app/views/session/new.html.erb:
0
    app/views/session/new.html.erb:11:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (144.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:26:36) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:9: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

; @output_buffer.concat(( form_tag "teste" ).to_s); @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:9:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:9: syntax error, unexpected kENSURE, expecting $end) on line #9 of app/views/session/new.html.erb:
6: 
7: <% end %>

    app/views/session/new.html.erb:9:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (41.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:26:37) [GET]
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
ERROR: compiling _run_erb_app47views47session47new46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:9: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Login</h1>\n\n"

; @output_buffer.concat(( form_tag "teste" ).to_s); @output_buffer.concat "\n\n"

; @output_buffer.concat(( select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 ).to_s); @output_buffer.concat "\n\n"

;  end ; @output_buffer.concat "\n"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/new.html.erb:9:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/new.html.erb:9: syntax error, unexpected kENSURE, expecting $end) on line #9 of app/views/session/new.html.erb:
6: 
7: <% end %>

    app/views/session/new.html.erb:9:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (156.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:44) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:45) [GET]
  [4;35;1mInstitution Load (4.3ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (167.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:46) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:46) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (87.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:47) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:48) [GET]
  [4;35;1mInstitution Load (4.7ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (50.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:48) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.4ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:27:49) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.0ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:28:01) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <% select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (166.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:28:02) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <% select_tag "institution_id", options_from_collection_for_select(@institutions, "name", "id"), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:29:25) [GET]
  [4;36;1mInstitution Load (4.8ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "institutions" [0m
DEPRECATION WARNING: Passing an array of option_tags to select_tag implicitly joins them without marking them as HTML-safe. Pass option_tags.join.html_safe instead. (called from /home/gustavo/Work/compreender2/app/views/session/new.html.erb:5)
Completed in 32ms (View: 17, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:29:47) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "institutions" [0m
DEPRECATION WARNING: Passing an array of option_tags to select_tag implicitly joins them without marking them as HTML-safe. Pass option_tags.join.html_safe instead. (called from /home/gustavo/Work/compreender2/app/views/session/new.html.erb:5)
Completed in 34ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:30:16) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 31ms (View: 15, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 01:35:47) [GET]
  [4;36;1mInstitution Load (5.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 71ms (View: 40, DB: 5) | 200 OK [http://127.0.0.1/institutions]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:35:51) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Completed in 39ms (View: 31, DB: 4) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:35:53) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Completed in 27ms (View: 18, DB: 4) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:35:53) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
Completed in 27ms (View: 18, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:36:21) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;36;1mInstitution Load (5.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Completed in 26ms (View: 17, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:36:47) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
Completed in 26ms (View: 17, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:36:48) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Completed in 24ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:38:01) [GET]
Rendering template within layouts/application
Rendering session/new
  [4;36;1mInstitution Load (4.8ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Completed in 58ms (View: 49, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:39) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.7ms)
Rendered rescues/_request_and_response (1.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:40) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (161.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:41) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (47.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:42) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (165.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:42) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (46.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:42) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (154.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:42) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:42) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (52.0ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:43) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:43) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:41:44) [GET]
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #5 of app/views/session/new.html.erb:
2: 
3: <% form_tag "teste" do %>
4: 
5: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), :size => 5 %>
6: 
7: <% end %>

    app/views/session/new.html.erb:5
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:43:36) [GET]
  [4;36;1mInstitution Load (4.9ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 43ms (View: 14, DB: 5) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:43:53) [GET]
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m

NoMethodError (undefined method `<=>' for #<Institution:0xb6b7abf4>):
  app/controllers/session_controller.rb:8:in `sort'
  app/controllers/session_controller.rb:8:in `new'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (36.8ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:44:46) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/session_controller.rb:8:in `<=>'
  app/controllers/session_controller.rb:8:in `sort'
  app/controllers/session_controller.rb:8:in `new'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (131.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:44:47) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/session_controller.rb:8:in `<=>'
  app/controllers/session_controller.rb:8:in `sort'
  app/controllers/session_controller.rb:8:in `new'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:44:48) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m

ArgumentError (wrong number of arguments (1 for 2)):
  app/controllers/session_controller.rb:8:in `<=>'
  app/controllers/session_controller.rb:8:in `sort'
  app/controllers/session_controller.rb:8:in `new'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.1ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:45:05) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 27ms (View: 9, DB: 4) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:46:26) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 31ms (View: 14, DB: 4) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:49:56) [GET]
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.map) on line #9 of app/views/session/new.html.erb:
6: <%= select_tag "institution_id", options_from_collection_for_select(@institutions, 'id', 'name'), {:size => 5, :style => 'width: 20em;'} %>
7: <br />
8: NÃ­vel de Atendimento<br />
9: <%= select_tag "service_level_id", options_from_collection_for_select(@service_levels, 'id', 'name'), {:style => 'width: 20em;'} %>
10: <br />
11: Segmento<br />
12: <%= select_tag "segment_id", options_from_collection_for_select(@segments, 'id', 'name'), {:style => 'width: 20em;'} %>

    app/views/session/new.html.erb:9
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (51.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:50:51) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (undefined method `password_tag' for #<ActionView::Base:0xb6ac5204>) on line #15 of app/views/session/new.html.erb:
12: <%= select_tag "segment_id", options_from_collection_for_select(@segments, 'id', 'name'), {:style => 'width: 20em;'} %>
13: <br />
14: Senha<br />
15: <%= password_tag "password" %>
16: <% end %>

    app/views/session/new.html.erb:15
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (44.4ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:50:52) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (undefined method `password_tag' for #<ActionView::Base:0xb6d64a28>) on line #15 of app/views/session/new.html.erb:
12: <%= select_tag "segment_id", options_from_collection_for_select(@segments, 'id', 'name'), {:style => 'width: 20em;'} %>
13: <br />
14: Senha<br />
15: <%= password_tag "password" %>
16: <% end %>

    app/views/session/new.html.erb:15
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.5ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:50:53) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.4ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.5ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (undefined method `password_tag' for #<ActionView::Base:0xb698cb94>) on line #15 of app/views/session/new.html.erb:
12: <%= select_tag "segment_id", options_from_collection_for_select(@segments, 'id', 'name'), {:style => 'width: 20em;'} %>
13: <br />
14: Senha<br />
15: <%= password_tag "password" %>
16: <% end %>

    app/views/session/new.html.erb:15
    app/views/session/new.html.erb:3
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (161.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:51:24) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 59ms (View: 19, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:52:06) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 49ms (View: 16, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:53:22) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 55ms (View: 19, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:53:42) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 53ms (View: 18, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:53:44) [GET]
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (11.7ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 60ms (View: 12, DB: 18) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:55:24) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 57ms (View: 20, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 01:55:25) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.5ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 49ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:55:31) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"2", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/application_controller.rb:20:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (34.3ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (not_found)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:55:41) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"2", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}

ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  app/controllers/application_controller.rb:20:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (not_found)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:57:31) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"2", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='2') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:22:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.5ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:58:29) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"2", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}
  [4;35;1mUser Load (4.7ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='2') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:22:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (144.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:58:39) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"2", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}
  [4;36;1mUser Load (5.5ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='2') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:27:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (37.5ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:58:47) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"3", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;35;1mUser Load (4.8ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='3') LIMIT 1[0m
  [4;36;1mUser Update (3.6ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-12-08 03:58:47', "password" = '' WHERE "id" = 2[0m
Redirected to http://127.0.0.1:3000/session
Completed in 30ms (DB: 8) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 01:58:47) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 01:58:58) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}
  [4;35;1mUser Load (14.8ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
  [4;36;1mUser Update (4.7ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-12-08 03:58:58', "password" = 'teste' WHERE "id" = 4[0m
Redirected to http://127.0.0.1:3000/session
Completed in 45ms (DB: 19) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 01:58:59) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:00:26) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;35;1mUser Load (5.0ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
Rendering template within layouts/application
Rendering session/create
Completed in 33ms (View: 14, DB: 5) | 200 OK [http://127.0.0.1/session/create]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:00:30) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;36;1mUser Load (4.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
Rendering template within layouts/application
Rendering session/create
Completed in 21ms (View: 5, DB: 5) | 200 OK [http://127.0.0.1/session/create]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:00:54) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"sdfsd"}
  [4;35;1mUser Load (17.7ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
Rendering template within layouts/application
Rendering session/create
Completed in 37ms (View: 8, DB: 18) | 200 OK [http://127.0.0.1/session/create]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:02:28) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;36;1mUser Load (4.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
Rendering template within layouts/application
Rendering session/create
Completed in 26ms (View: 8, DB: 5) | 200 OK [http://127.0.0.1/session/create]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:03:26) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;35;1mUser Load (4.9ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
  [4;36;1mUser Update (3.3ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-12-08 04:03:26', "password" = '' WHERE "id" = 4[0m
Redirected to http://127.0.0.1:3000/session
Completed in 29ms (DB: 8) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:03:26) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:03:35) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"4", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste"}
  [4;35;1mUser Load (4.8ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='4') LIMIT 1[0m
  [4;36;1mUser Update (6.4ms)[0m   [0;1mUPDATE "users" SET "updated_at" = '2010-12-08 04:03:35', "password" = 'teste' WHERE "id" = 4[0m
Redirected to http://127.0.0.1:3000/session
Completed in 39ms (DB: 11) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:03:35) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing ServiceLevelsController#index (for 127.0.0.1 at 2010-12-08 02:04:01) [GET]
  [4;35;1mServiceLevel Load (4.6ms)[0m   [0mSELECT * FROM "service_levels" [0m
Rendering template within layouts/service_levels
Rendering service_levels/index
Completed in 61ms (View: 43, DB: 5) | 200 OK [http://127.0.0.1/service_levels]


Processing ServiceLevelsController#edit (for 127.0.0.1 at 2010-12-08 02:04:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (2.1ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/service_levels
Rendering service_levels/edit
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 1) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (2.0ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 2) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 3) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 4) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT "segments".id FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments"."id" = 5) AND ("segments_service_levels".service_level_id = 1 ) LIMIT 1[0m
Rendered service_levels/_form (44.5ms)
Completed in 98ms (View: 62, DB: 15) | 200 OK [http://127.0.0.1/service_levels/1/edit]


Processing ServiceLevelsController#update (for 127.0.0.1 at 2010-12-08 02:04:08) [PUT]
  Parameters: {"commit"=>"Salvar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "service_level"=>{"name"=>"EducaÃ§Ã£o Infantil", "segment_ids"=>["1", "2", "3", "5"]}, "id"=>"1"}
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" IN (1,2,3,5)) [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" INNER JOIN "segments_service_levels" ON "segments".id = "segments_service_levels".segment_id WHERE ("segments_service_levels".service_level_id = 1 ) [0m
  [4;36;1mSQL (3.3ms)[0m   [0;1mDELETE FROM "segments_service_levels" WHERE service_level_id = 1 AND segment_id IN (4)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO "segments_service_levels" ("service_level_id", "segment_id") VALUES (1, 2)[0m
Redirected to http://127.0.0.1:3000/service_levels/1
Completed in 53ms (DB: 10) | 302 Found [http://127.0.0.1/service_levels/1]


Processing ServiceLevelsController#show (for 127.0.0.1 at 2010-12-08 02:04:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mServiceLevel Load (2.1ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
Rendering template within layouts/service_levels
Rendering service_levels/show
Completed in 41ms (View: 22, DB: 2) | 200 OK [http://127.0.0.1/service_levels/1]
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:06:38) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 50ms (View: 14, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:06:49) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Rendering template within layouts/application
Rendering session/create
Completed in 21ms (View: 5, DB: 5) | 200 OK [http://127.0.0.1/session/create]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:07:21) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;35;1mUser Load (4.8ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:07:21) [GET]
  [4;36;1mInstitution Load (4.6ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 50ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:07:25) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>""}
  [4;35;1mUser Load (4.6ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='1') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:27:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (36.1ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:07:31) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>""}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='1') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:27:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.4ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:08:04) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>""}
  [4;35;1mUser Load (4.5ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='1') LIMIT 1[0m

NoMethodError (undefined method `password' for nil:NilClass):
  app/controllers/application_controller.rb:27:in `authenticated?'
  app/controllers/session_controller.rb:15:in `create'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (32.7ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:08:29) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>""}
  [4;36;1mUser Load (6.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='1') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 17ms (DB: 6) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:08:29) [GET]
  [4;35;1mInstitution Load (4.6ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 58ms (View: 15, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:09:36) [GET]
  [4;36;1mInstitution Load (4.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new

ActionView::TemplateError (undefined local variable or method `error' for #<ActionView::Base:0xb6bc43f8>) on line #13 of app/views/layouts/application.html.erb:
10:   <div class="right"><%= image_tag 'lateral.jpg' %></div>
11:   <h2>Sistema de AvaliaÃ§Ã£o 2010</h2>
12:  </div>
13: <p style="color: red"><%= error %></p>
14: <%= yield %>
15: 
16: </body>

    app/views/layouts/application.html.erb:13
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.7ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:09:56) [GET]
  [4;35;1mInstitution Load (6.6ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (5.5ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 69ms (View: 21, DB: 14) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:10:29) [GET]
  [4;36;1mInstitution Load (4.3ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 55ms (View: 22, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:10:31) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 51ms (View: 13, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:10:32) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>""}
  [4;36;1mUser Load (4.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='1') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 15ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:10:32) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 47ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:10:47) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;36;1mUser Load (5.5ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 19ms (DB: 6) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:10:47) [GET]
  [4;35;1mInstitution Load (4.7ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.6ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 52ms (View: 13, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:10:54) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 17ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:10:54) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.4ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 46ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]
  [4;35;1mUser Load (2.9ms)[0m   [0mSELECT * FROM "users" [0m


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:18) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>""}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:12:18) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 52ms (View: 14, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:25) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
  [4;35;1mUser Update (3.9ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-12-08 04:12:25', "password" = 'teste1' WHERE "id" = 3[0m
Redirected to http://127.0.0.1:3000/session
Completed in 33ms (DB: 9) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:12:25) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:34) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste2"}
  [4;36;1mUser Load (4.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 19ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:12:34) [GET]
  [4;35;1mInstitution Load (4.7ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 50ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:41) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "password"=>"teste1"}
  [4;36;1mUser Load (4.6ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id=NULL AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 14ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:12:41) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.4ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 46ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:47) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste2"}
  [4;36;1mUser Load (5.3ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 19ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:12:47) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 47ms (View: 12, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:12:55) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (5.1ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 17ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:12:55) [GET]

ActionView::MissingTemplate (Missing template session/index.erb in view path app/views):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:19:43) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 119ms (View: 116, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:20:08) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 15ms (View: 11, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:20:09) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:20:48) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 16ms (View: 12, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:20:49) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:20:59) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:22:22) [GET]
Rendering template within layouts/application
Rendering session/index
Completed in 17ms (View: 12, DB: 0) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:28:12) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (33.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:34:06) [GET]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:35:06) [GET]
  [4;36;1mInstitution Load (4.7ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 183ms (View: 130, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:35:16) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;35;1mUser Load (4.7ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 22ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:35:16) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (141.3ms)
Rendered rescues/_request_and_response (2.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:36:24) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (4.9ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 22ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:36:24) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.8ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:37:10) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;35;1mUser Load (4.9ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:37:10) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (169.7ms)
Rendered rescues/_request_and_response (0.8ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:37:24) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"sdfasda"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 02:37:24) [GET]
  [4;35;1mInstitution Load (4.5ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 56ms (View: 15, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:37:31) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:37:32) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (54.9ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 02:47:13) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;35;1mUser Load (4.7ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 48888ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:48:02) [GET]
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index

ActionView::TemplateError (undefined local variable or method `current_user' for #<ActionView::Base:0xb67d1250>) on line #2 of app/views/session/index.html.erb:
1: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">
2: <a href=<%= "/institutions/#{current_user.institution_id}/service_level/#{current_user.service_level}/segment/#{current_user.segment}/survey" %>><h2>Instrumental de AvaliaÃ§Ã£o<h2></a>
3: </div>
4: 
5: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">

    app/views/session/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (173.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:49:47) [GET]
  [4;35;1mInstitution Load (2.2ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index

ActionView::TemplateError (undefined method `service_level' for #<User:0xb68dcb04>) on line #2 of app/views/session/index.html.erb:
1: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">
2: <a href=<%= "/institutions/#{@user.institution_id}/service_level/#{@user.service_level}/segment/#{@user.segment}/survey" %>><h2>Instrumental de AvaliaÃ§Ã£o<h2></a>
3: </div>
4: 
5: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">

    app/views/session/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:50:14) [GET]
  [4;36;1mInstitution Load (2.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 72ms (View: 15, DB: 7) | 200 OK [http://127.0.0.1/session]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 02:50:18) [GET]

ActionController::RoutingError (No route matches "/institutions/3/service_level/1/segment/5/survey" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 02:51:34) [GET]
  [4;35;1mInstitution Load (2.1ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.1ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 60ms (View: 8, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 02:51:36) [GET]

ActionController::RoutingError (No route matches "/institutions/3/service_level/1/segment/5/survey" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 03:02:24) [GET]

ActionController::RoutingError (No route matches "/institutions/3/service_level/1/segment/5/survey" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 03:05:24) [GET]

ActionController::RoutingError (No route matches "/institutions/3/service_level/1/segment/5/survey" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:06:27) [GET]
  [4;36;1mInstitution Load (2.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 194ms (View: 126, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 03:06:29) [GET]

ActionController::RoutingError (No route matches "/institutions/3/service_level/1/segment/5/surveys" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:08:11) [GET]
  [4;36;1mInstitution Load (2.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 184ms (View: 120, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 03:08:13) [GET]

ActionController::RoutingError (No route matches "/institution_service_level_segment_surveys(@user.institution_id,@user.service_level_id,,@user.segment_id)" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2010-12-08 03:09:50) [GET]

ActionController::RoutingError (No route matches "/institution_service_level_segment_surveys(@user.institution_id,@user.service_level_id,,@user.segment_id)" with {:method=>:get}):
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:09:52) [GET]
  [4;35;1mInstitution Load (2.1ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index

ActionView::TemplateError (undefined method `institution_service_level_segment_surveys' for #<ActionView::Base:0xb66b0218>) on line #2 of app/views/session/index.html.erb:
1: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">
2: <h2><%= link_to institution_service_level_segment_surveys(@user.institution_id,@user.service_level_id,@user.segment_id), "Instrumental de AvaliaÃ§Ã£o" %></h2>
3: </div>
4: 
5: <div style= "width:50%; float:left; text-align:center; margin-top: 100px;">

    app/views/session/index.html.erb:2
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (72.3ms)
Rendered rescues/_request_and_response (2.3ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:10:09) [GET]
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 65ms (View: 13, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:10:42) [GET]
  [4;35;1mInstitution Load (2.1ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 65ms (View: 12, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing SurveysController#index (for 127.0.0.1 at 2010-12-08 03:10:44) [GET]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "institution_id"=>"3"}
  [4;36;1mSurvey Load (4.3ms)[0m   [0;1mSELECT * FROM "surveys" [0m
Rendering template within layouts/surveys
Rendering surveys/index

ActionView::TemplateError (undefined local variable or method `new_survey_path' for #<ActionView::Base:0xb67180fc>) on line #20 of app/views/surveys/index.html.erb:
17: 
18: <br />
19: 
20: <%= link_to 'New survey', new_survey_path %>

    app/views/surveys/index.html.erb:20
    app/controllers/surveys_controller.rb:7:in `index'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (80.7ms)
Rendered rescues/_request_and_response (0.7ms)
Rendering rescues/layout (internal_server_error)


Processing SurveysController#index (for 127.0.0.1 at 2010-12-08 03:12:43) [GET]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "institution_id"=>"3"}
  [4;35;1mSurvey Load (4.3ms)[0m   [0mSELECT * FROM "surveys" [0m
Rendering template within layouts/surveys
Rendering surveys/index
Completed in 33ms (View: 16, DB: 4) | 200 OK [http://127.0.0.1/institutions/3/service_levels/1/segments/5/surveys]


Processing SurveysController#index (for 127.0.0.1 at 2010-12-08 03:13:11) [GET]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "institution_id"=>"3"}
  [4;36;1mSurvey Load (4.3ms)[0m   [0;1mSELECT * FROM "surveys" [0m
Rendering template within layouts/application
Rendering surveys/index
Completed in 24ms (View: 7, DB: 4) | 200 OK [http://127.0.0.1/institutions/3/service_levels/1/segments/5/surveys]


Processing SurveysController#index (for 127.0.0.1 at 2010-12-08 03:13:21) [GET]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "institution_id"=>"3"}
  [4;35;1mSurvey Load (4.4ms)[0m   [0mSELECT * FROM "surveys" [0m
Rendering template within layouts/application
Rendering surveys/index
Completed in 29ms (View: 12, DB: 4) | 200 OK [http://127.0.0.1/institutions/3/service_levels/1/segments/5/surveys]


Processing SurveysController#index (for 127.0.0.1 at 2010-12-08 03:15:29) [GET]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "institution_id"=>"3"}
  [4;36;1mSurvey Load (4.2ms)[0m   [0;1mSELECT * FROM "surveys" [0m
Rendering template within layouts/application
Rendering surveys/index
Completed in 36ms (View: 19, DB: 4) | 200 OK [http://127.0.0.1/institutions/3/service_levels/1/segments/5/surveys]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:18:29) [GET]
  [4;35;1mInstitution Load (2.1ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.2ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
ERROR: compiling _run_erb_app47views47session47index46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/index.html.erb:17: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  content_for :institution do ; @output_buffer.concat "\n "
; @output_buffer.concat(( @institution_name ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n"

;  content_for :subtitle ; @output_buffer.concat "\n "
; @output_buffer.concat(( @subtitle ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n<div style= \"width:50%; float:left; text-align:center; margin-top: 100px;\">\n<h2>"

; @output_buffer.concat(( link_to "Instrumental de AvaliaÃ§Ã£o", 
	institution_service_level_segment_surveys_path(@user.institution_id,@user.service_level_id,@user.segment_id) ).to_s); @output_buffer.concat "</h2>\n</div>\n\n<div style= \"width:50%; float:left; text-align:center; margin-top: 100px;\">\n<a href=\"#\"><h2>Lista de Presen\303\247a<h2></a><small>ser\303\241 aberta ap\303\263s o preenchimento do instrumental</small>\n</div>\n"





; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/index.html.erb:17:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/debugger.rb:19:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/index.html.erb:17: syntax error, unexpected kENSURE, expecting $end) on line #17 of app/views/session/index.html.erb:
14: <a href="#"><h2>Lista de PresenÃ§a<h2></a><small>serÃ¡ aberta apÃ³s o preenchimento do instrumental</small>
15: </div>

    app/views/session/index.html.erb:17:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (68.3ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:19:50) [GET]
  [4;36;1mInstitution Load (2.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.2ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
ERROR: compiling _run_erb_app47views47session47index46html46erb RAISED compile error
/home/gustavo/Work/compreender2/app/views/session/index.html.erb:18: syntax error, unexpected kENSURE, expecting $end
Function body:           def _run_erb_app47views47session47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  content_for :institution do ; @output_buffer.concat "\n "
; @output_buffer.concat(( @institution_name ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n"

;  content_for :subtitle ; @output_buffer.concat "\n "
; @output_buffer.concat(( @subtitle ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n\n<div style= \"width:50%; float:left; text-align:center; margin-top: 100px;\">\n<h2>"


; @output_buffer.concat(( link_to "Instrumental de AvaliaÃ§Ã£o", 
	institution_service_level_segment_surveys_path(@user.institution_id,@user.service_level_id,@user.segment_id) ).to_s); @output_buffer.concat "</h2>\n</div>\n\n<div style= \"width:50%; float:left; text-align:center; margin-top: 100px;\">\n<a href=\"#\"><h2>Lista de Presen\303\247a<h2></a><small>ser\303\241 aberta ap\303\263s o preenchimento do instrumental</small>\n</div>\n"





; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /home/gustavo/Work/compreender2/app/views/session/index.html.erb:18:in `compile!'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/template.rb:205:in `render_template'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:265:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:348:in `_render_with_layout'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_view/base.rb:262:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1250:in `render_for_file'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:936:in `render_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:51:in `render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1326:in `default_render'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/usr/lib/ruby/gems/1.8/gems/activesupport-2.3.8/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/flash.rb:151:in `perform_action'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `send'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:532:in `process_without_filters'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/filters.rb:606:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/routing/route_set.rb:438:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:87:in `dispatch'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:121:in `_call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:130
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby/gems/1.8/gems/activerecord-2.3.8/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/string_coercion.rb:25:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/head.rb:9:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/session/cookie_store.rb:99:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/failsafe.rb:26:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `synchronize'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/lock.rb:11:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:114:in `call'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/reloader.rb:34:in `run'
/usr/lib/ruby/gems/1.8/gems/actionpack-2.3.8/lib/action_controller/dispatcher.rb:108:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/static.rb:31:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:47:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `each'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/urlmap.rb:41:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/debugger.rb:19:in `call'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/rails/rack/log_tailer.rb:17:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/content_length.rb:13:in `call'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:48:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
/usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
/usr/lib/ruby/1.8/webrick/server.rb:82:in `start'
/usr/lib/ruby/gems/1.8/gems/rack-1.1.0/lib/rack/handler/webrick.rb:14:in `run'
/usr/lib/ruby/gems/1.8/gems/rails-2.3.8/lib/commands/server.rb:111
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/usr/local/lib/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
/home/gustavo/Work/compreender2/app/views/session/index.html.erb:18: syntax error, unexpected kENSURE, expecting $end) on line #18 of app/views/session/index.html.erb:
15: <a href="#"><h2>Lista de PresenÃ§a<h2></a><small>serÃ¡ aberta apÃ³s o preenchimento do instrumental</small>
16: </div>

    app/views/session/index.html.erb:18:in `compile!'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (70.8ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:21:18) [GET]
  [4;35;1mInstitution Load (2.2ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.5ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 74ms (View: 14, DB: 7) | 200 OK [http://127.0.0.1/session]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:22:38) [GET]
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.2ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 68ms (View: 14, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing InstitutionsController#index (for 127.0.0.1 at 2010-12-08 03:26:53) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
Rendering template within layouts/institutions
Rendering institutions/index
Completed in 61ms (View: 43, DB: 4) | 200 OK [http://127.0.0.1/institutions]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:29:11) [GET]
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 5) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 71ms (View: 17, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing SessionController#destroy (for 127.0.0.1 at 2010-12-08 03:29:17) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
Rendering template within layouts/application
Rendering session/destroy
Completed in 25ms (View: 14, DB: 0) | 200 OK [http://127.0.0.1/session/destroy]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:29:22) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:29:31) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;35;1mUser Load (5.3ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 8763ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:29:40) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (57.2ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:31:59) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (55.1ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:32:00) [GET]

NoMethodError (undefined method `institution_id' for nil:NilClass):
  app/controllers/session_controller.rb:5:in `index'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (173.6ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:32:05) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste2"}
  [4;36;1mUser Load (4.8ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 21ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 03:32:05) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 70ms (View: 27, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:32:13) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"5", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste2"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='5') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 21ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 03:32:13) [GET]
  [4;35;1mInstitution Load (4.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.2ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.3ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 54ms (View: 14, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:32:19) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='1') LIMIT 1[0m
  [4;35;1mUser Update (3.5ms)[0m   [0mUPDATE "users" SET "updated_at" = '2010-12-08 05:32:19', "password" = 'teste1' WHERE "id" = 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 32ms (DB: 8) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:32:19) [GET]
  [4;36;1mInstitution Load (2.1ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;35;1mServiceLevel Load (2.1ms)[0m   [0mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;36;1mSegment Load (2.1ms)[0m   [0;1mSELECT * FROM "segments" WHERE ("segments"."id" = 1) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 171ms (View: 120, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing SessionController#destroy (for 127.0.0.1 at 2010-12-08 03:32:24) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
Rendering template within layouts/application
Rendering session/destroy
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://127.0.0.1/session/destroy]


Processing SessionController#destroy (for 127.0.0.1 at 2010-12-08 03:32:54) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
Redirected to http://127.0.0.1:3000/
Completed in 6ms (DB: 0) | 302 Found [http://127.0.0.1/session/destroy]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 03:32:54) [GET]
  [4;35;1mInstitution Load (11.6ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mServiceLevel Load (2.3ms)[0m   [0;1mSELECT * FROM "service_levels" [0m
  [4;35;1mSegment Load (2.4ms)[0m   [0mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 162ms (View: 16, DB: 16) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:32:59) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste1"}
  [4;36;1mUser Load (4.7ms)[0m   [0;1mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='1') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/session
Completed in 20ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#index (for 127.0.0.1 at 2010-12-08 03:32:59) [GET]
  [4;35;1mInstitution Load (2.1ms)[0m   [0mSELECT * FROM "institutions" WHERE ("institutions"."id" = 3) [0m
  [4;36;1mServiceLevel Load (2.1ms)[0m   [0;1mSELECT * FROM "service_levels" WHERE ("service_levels"."id" = 1) [0m
  [4;35;1mSegment Load (2.1ms)[0m   [0mSELECT * FROM "segments" WHERE ("segments"."id" = 1) [0m
Rendering template within layouts/application
Rendering session/index
Completed in 61ms (View: 9, DB: 6) | 200 OK [http://127.0.0.1/session]


Processing SessionController#destroy (for 127.0.0.1 at 2010-12-08 03:33:01) [DELETE]
  Parameters: {"authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA="}
Redirected to http://127.0.0.1:3000/
Completed in 13ms (DB: 0) | 302 Found [http://127.0.0.1/session/destroy]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 03:33:01) [GET]
  [4;36;1mInstitution Load (4.5ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.5ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.3ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 58ms (View: 15, DB: 9) | 200 OK [http://127.0.0.1/]


Processing SessionController#create (for 127.0.0.1 at 2010-12-08 03:33:07) [POST]
  Parameters: {"service_level_id"=>"1", "segment_id"=>"1", "commit"=>"entrar", "authenticity_token"=>"VFp7n4pFJiHKNzAudq8VOxwM784Ip0oqP8elav5+hiA=", "institution_id"=>"3", "password"=>"teste2"}
  [4;35;1mUser Load (4.7ms)[0m   [0mSELECT * FROM "users" WHERE (institution_id='3' AND service_level_id='1' AND segment_id='1') LIMIT 1[0m
Redirected to http://127.0.0.1:3000/
Completed in 19ms (DB: 5) | 302 Found [http://127.0.0.1/session/create]


Processing SessionController#new (for 127.0.0.1 at 2010-12-08 03:33:07) [GET]
  [4;36;1mInstitution Load (5.0ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (2.3ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (2.4ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 162ms (View: 17, DB: 10) | 200 OK [http://127.0.0.1/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.6ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("dimensions")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("questions")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions_surveys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("segments")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("segments_service_levels")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("service_levels")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("surveys")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (password NOT NULL) [0m
  [4;35;1mInstitution Load (0.4ms)[0m   [0mSELECT * FROM "institutions" [0m
  [4;36;1mInstitution Load (1.1ms)[0m   [0;1mSELECT * FROM "institutions" LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1) [0m
  [4;36;1mInstitution Load (0.6ms)[0m   [0;1mSELECT * FROM "institutions" LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1) [0m


Processing SessionController#new (for 201.81.177.133 at 2011-01-23 18:38:19) [GET]
  [4;36;1mInstitution Load (1.4ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;35;1mServiceLevel Load (0.5ms)[0m   [0mSELECT * FROM "service_levels" [0m
  [4;36;1mSegment Load (0.7ms)[0m   [0;1mSELECT * FROM "segments" [0m
Rendering template within layouts/application
Rendering session/new
Completed in 155ms (View: 52, DB: 3) | 200 OK [http://unifreire.org/]
  [4;36;1mInstitution Load (0.7ms)[0m   [0;1mSELECT * FROM "institutions" [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "answers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "survey_id" integer, "question_id" integer, "zero" integer, "one" integer, "two" integer, "three" integer, "four" integer, "five" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101209103244')[0m
Migrating to AlterQuestion (20101209104432)
  [4;35;1mSQL (17.2ms)[0m   [0mCREATE TEMPORARY TABLE "altered_questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "dimension_id" integer, "number" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions")[0m
  [4;35;1mSQL (0.2ms)[0m   [0mDROP TABLE "questions"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCREATE TABLE "questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" integer, "description" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_questions")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_questions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mALTER TABLE "questions" ADD "survey_id" integer[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20101209104432')[0m
Migrating to AlterQuestions (20101209215748)
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE TEMPORARY TABLE "altered_questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" integer, "description" text, "created_at" datetime, "updated_at" datetime, "survey_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("questions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "questions"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "number" varchar(255), "description" text, "created_at" datetime, "updated_at" datetime, "survey_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_questions")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDROP TABLE "altered_questions"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101209215748')[0m
Migrating to AddParticipantsNumberToAnswer (20101209232405)
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "answers" ADD "participants_number" integer[0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101209232405')[0m
Migrating to CreateAttendees (20101214092609)
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "attendees" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "user_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20101214092609')[0m
Migrating to CreateGroups (20110123162522)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TEMPORARY TABLE "altered_institutions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("institutions")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mDROP TABLE "institutions"[0m
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "institutions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("altered_institutions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mDROP TABLE "altered_institutions"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mALTER TABLE "users" ADD "group_id" integer[0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110123162522')[0m
Migrating to AlterGroupSchema (20110123162528)
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
Migrating to AlterQuestion (20101209104432)
Migrating to AlterQuestions (20101209215748)
Migrating to AddParticipantsNumberToAnswer (20101209232405)
Migrating to CreateAttendees (20101214092609)
Migrating to CreateGroups (20110123162522)
Migrating to AlterGroupSchema (20110123162528)
  [4;36;1mSQL (0.3ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.7ms)[0m   [0mCREATE TEMPORARY TABLE "altered_institutions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("institutions")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "institutions"[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE TABLE "institutions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_institutions")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_institutions"[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: duplicate column name: group_id: ALTER TABLE "users" ADD "group_id" integer[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
Migrating to AlterQuestion (20101209104432)
Migrating to AlterQuestions (20101209215748)
Migrating to AddParticipantsNumberToAnswer (20101209232405)
Migrating to CreateAttendees (20101214092609)
Migrating to CreateGroups (20110123162522)
Migrating to AddIndexes (20110127024826)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("questions")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE INDEX "index_questions_on_survey_id" ON "questions" ("survey_id")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("questions")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_questions_on_survey_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_questions_on_number" ON "questions" ("number")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_users_on_service_level_id" ON "users" ("service_level_id")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_users_on_service_level_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_users_on_institution_id" ON "users" ("institution_id")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_users_on_institution_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_users_on_service_level_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_users_on_group_id" ON "users" ("group_id")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("answers")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCREATE INDEX "index_answers_on_survey_id" ON "answers" ("survey_id")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_list("answers")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_survey_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_answers_on_question_id" ON "answers" ("question_id")[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mPRAGMA index_list("answers")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_answers_on_question_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_survey_id')[0m
Index name 'index_answers_on_survey_id' on table 'answers' already exists. Skipping.
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110127024826')[0m
Migrating to CreateDimensionsAgain (20110128122048)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: table "dimensions" already exists: CREATE TABLE "dimensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "number" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
Migrating to AlterQuestion (20101209104432)
Migrating to AlterQuestions (20101209215748)
Migrating to AddParticipantsNumberToAnswer (20101209232405)
Migrating to CreateAttendees (20101214092609)
Migrating to CreateGroups (20110123162522)
Migrating to AddIndexes (20110127024826)
Migrating to CreateDimensionsAgain (20110128122048)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "dimensions" already exists: CREATE TABLE "dimensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "number" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
Migrating to AlterQuestion (20101209104432)
Migrating to AlterQuestions (20101209215748)
Migrating to AddParticipantsNumberToAnswer (20101209232405)
Migrating to CreateAttendees (20101214092609)
Migrating to CreateGroups (20110123162522)
Migrating to AddIndexes (20110127024826)
Migrating to CreateDimensionsAgain (20110128122048)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "dimensions" already exists: CREATE TABLE "dimensions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "number" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mQuestion Load (1.9ms)[0m   [0;1mSELECT * FROM "questions" LIMIT 1[0m
  [4;36;1mDimension Load (2.5ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mDimension Load (0.7ms)[0m   [0mSELECT * FROM "dimensions" LIMIT 1[0m
  [4;36;1mDimension Load (1.7ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;36;1mDimension Load (2.6ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mDimension Load (1.7ms)[0m   [0mSELECT * FROM "dimensions" [0m
  [4;36;1mDimension Load (1.7ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mIndicator Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: indicators: SELECT * FROM "indicators" WHERE (dimension_id = 1) [0m
  [4;36;1mInstitution Load (0.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 4) [0m
  [4;36;1mSurvey Load (1.7ms)[0m   [0;1mSELECT * FROM "surveys" [0m
  [4;36;1mInstitution Load (0.2ms)[0m   [0;1mSELECT * FROM "institutions" WHERE ("institutions"."id" = 4) [0m
  [4;36;1mDimension Load (2.6ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mInstitution Load (0.7ms)[0m   [0mSELECT * FROM "institutions" WHERE (UPPER(name) LIKE 'A%') ORDER BY name[0m
  [4;36;1mServiceLevel Load (0.6ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInstitutions (20101207115515)
Migrating to CreateServiceLevels (20101207115536)
Migrating to CreateInstitutionsServiceLevels (20101207115601)
Migrating to CreateSegments (20101207123842)
Migrating to CreateSegmentsServiceLevels (20101207123857)
Migrating to CreateSurveys (20101207135253)
Migrating to AddServiceLevelToSurveys (20101207142112)
Migrating to CreateQuestions (20101207144156)
Migrating to CreateQuestionsSurveys (20101207145127)
Migrating to CreateDimensions (20101207145317)
Migrating to RemoveQuestionsSurveys (20101207165549)
Migrating to CreateUsers (20101208021937)
Migrating to CreateAnswers (20101209103244)
Migrating to AlterQuestion (20101209104432)
Migrating to AlterQuestions (20101209215748)
Migrating to AddParticipantsNumberToAnswer (20101209232405)
Migrating to CreateAttendees (20101214092609)
Migrating to CreateGroups (20110123162522)
Migrating to AddIndexes (20110127024826)
Migrating to CreateDimensionsAgain (20110128122048)
  [4;36;1mSQL (0.2ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "dimensions" ADD "number" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128122048')[0m
Migrating to CreateIndicatorsAgain (20110128122650)
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "indicators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "dimension_id" integer, "number" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128122650')[0m
Migrating to AddIndicatorIdToQuestions (20110128123910)
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "questions" ADD "indicator_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128123910')[0m
Migrating to CreateParties (20110128150611)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128150611')[0m
Migrating to AddPartyIdTo (20110128150850)
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "questions" ADD "party_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128150850')[0m
Migrating to AddServiceLevelToIndicators (20110128154908)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "indicators" ADD "service_level_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128154908')[0m
Migrating to AddSegmentToIndicators (20110128164105)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "indicators" ADD "segment_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128164105')[0m
Migrating to AddMerbershipToQuestions (20110128181026)
  [4;35;1mSQL (0.6ms)[0m   [0mALTER TABLE "questions" ADD "membership_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128181026')[0m
Migrating to AddMerbershipToIndicators (20110128181227)
  [4;35;1mSQL (0.5ms)[0m   [0mALTER TABLE "indicators" ADD "membership_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128181227')[0m
Migrating to CreateMemberships (20110128181523)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "memberships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "party_id" integer, "member_id" integer, "member_type" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110128181523')[0m
Migrating to ReplaceNumberTypeOnIndicators (20110129012712)
  [4;35;1mSQL (25.4ms)[0m   [0mCREATE TEMPORARY TABLE "altered_indicators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "dimension_id" integer, "number" integer, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_level_id" integer, "segment_id" integer, "membership_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("indicators")[0m
  [4;35;1mSQL (0.4ms)[0m   [0mDROP TABLE "indicators"[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mCREATE TABLE "indicators" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "dimension_id" integer, "number" varchar(255), "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_level_id" integer, "segment_id" integer, "membership_id" integer) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("altered_indicators")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mDROP TABLE "altered_indicators"[0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110129012712')[0m
Migrating to CreateQuestionsParties (20110130130717)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "questions_parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110130130717')[0m
Migrating to CreateIndicatorsParties (20110130130851)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "indicators_parties" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110130130851')[0m
Migrating to AddPartiesToMembers (20110130131105)
  [4;36;1mSQL (0.7ms)[0m   [0;1mALTER TABLE "questions" ADD "questions_party_id" integer[0m
  [4;35;1mSQL (0.4ms)[0m   [0mALTER TABLE "indicators" ADD "indicators_party_id" integer[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20110130131105')[0m
Migrating to AddMissingIndexes (20110131045457)
  [4;35;1mSQL (0.4ms)[0m   [0mPRAGMA index_list("answers")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_question_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_answers_on_survey_id')[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE INDEX "index_answers_on_user_id" ON "answers" ("user_id")[0m
  [4;35;1mSQL (0.5ms)[0m   [0mPRAGMA index_list("answers")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_user_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_answers_on_question_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_survey_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_answers_on_participants_number" ON "answers" ("participants_number")[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mPRAGMA index_list("answers")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mPRAGMA index_info('index_answers_on_participants_number')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_user_id')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_info('index_answers_on_question_id')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mPRAGMA index_info('index_answers_on_survey_id')[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_answers_on_created_at" ON "answers" ("created_at")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("dimensions")[0m
  [4;35;1mSQL (0.3ms)[0m   [0mCREATE INDEX "index_dimensions_on_number" ON "dimensions" ("number")[0m
  [4;36;1mAnswer Delete all (0.2ms)[0m   [0;1mDELETE FROM "answers" WHERE (user_id = 171) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20110131045457')[0m
Migrating to AddFunctionsToGatherData (20110201141712)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: near "FUNCTION": syntax error: 
 CREATE FUNCTION answer_value(a0 int, a1 int,a2 int,a3 int,a4 int,a5 int ) returns int
 return if(a1 = 1,1,0)+if(a2 = 1,2,0)+if(a3 = 1,3,0)+if(a4 = 1,4,0)+if(a5 = 1,5,0);
 [0m
  [4;36;1mDimension Load (3.0ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mInstitution Load (0.7ms)[0m   [0mSELECT * FROM "institutions" WHERE (UPPER(name) LIKE 'A%') ORDER BY name[0m
  [4;36;1mServiceLevel Load (0.6ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mDimension Load (0.5ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."number" IS NULL) LIMIT 1[0m
  [4;35;1mIndicator Load (0.3ms)[0m   [0mSELECT * FROM "indicators" WHERE ("indicators".dimension_id = 1) AND ((service_level_id = 1) AND ("indicators".dimension_id = 1)) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mDimension Load (4.2ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mInstitution Load (0.9ms)[0m   [0mSELECT * FROM "institutions" WHERE (UPPER(name) LIKE 'A%') ORDER BY name[0m
  [4;36;1mServiceLevel Load (0.8ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mDimension Load (0.7ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."number" IS NULL) LIMIT 1[0m
  [4;35;1mIndicator Load (0.4ms)[0m   [0mSELECT * FROM "indicators" WHERE ("indicators".dimension_id = 1) AND ((service_level_id = 1) AND ("indicators".dimension_id = 1)) [0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mDimension Load (3.0ms)[0m   [0;1mSELECT * FROM "dimensions" [0m
  [4;35;1mInstitution Load (0.7ms)[0m   [0mSELECT * FROM "institutions" WHERE (UPPER(name) LIKE 'A%') ORDER BY name[0m
  [4;36;1mServiceLevel Load (0.5ms)[0m   [0;1mSELECT * FROM "service_levels" INNER JOIN "institutions_service_levels" ON "service_levels".id = "institutions_service_levels".service_level_id WHERE ("institutions_service_levels".institution_id = 1 ) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mDimension Load (0.5ms)[0m   [0;1mSELECT * FROM "dimensions" WHERE ("dimensions"."number" IS NULL) LIMIT 1[0m
  [4;35;1mIndicator Load (0.3ms)[0m   [0mSELECT * FROM "indicators" WHERE ("indicators".dimension_id = 1) AND ((service_level_id = 1) AND ("indicators".dimension_id = 1)) [0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".institution_id = 1 AND ("users"."service_level_id" = 1)) LIMIT 1[0m
  [4;36;1mIndicator Load (1.5ms)[0m   [0;1mSELECT * FROM "indicators" LIMIT 1[0m
